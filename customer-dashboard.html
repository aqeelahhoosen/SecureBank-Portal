<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Dashboard - SecureBank International</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
        background-color: #F5F6F7 !important;
        font-family: 'Inter', sans-serif;
        color: #333;
        line-height: 1.6;
        min-height: 100vh;
    }

    .container {
        background-color: #F5F6F7;
        min-height: 100vh;
    }

    .dashboard-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .dashboard-header {
        background: white;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

    .welcome-section h1 {
        color: #B8E3E9; /* Updated to light blue */
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 10px;
    }

    .welcome-section .subtitle {
        color: #666;
        font-size: 1.1rem;
        margin-bottom: 20px;
    }

    .user-info {
        background: #B8E3E9; /* Updated to light blue */
        color: #333; /* Dark text for contrast */
        padding: 25px;
        border-radius: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .user-details h2 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 5px;
        color: #333; /* Dark text for contrast */
    }

    .user-details .account-number {
        font-size: 1.1rem;
        opacity: 0.9;
        color: #333; /* Dark text for contrast */
    }

    .quick-actions {
        display: flex;
        gap: 15px;
    }

    .action-btn {
        background: rgba(255, 255, 255, 0.7); /* Semi-transparent white */
        color: #333; /* Dark text for contrast */
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.5);
    }

    .action-btn:hover {
        background: rgba(255, 255, 255, 0.9);
        transform: translateY(-2px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .dashboard-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin-bottom: 40px;
    }

    .payment-card {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

    .payment-card h3 {
        color: #B8E3E9; /* Updated to light blue */
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .payment-card h3 i {
        color: #B8E3E9; /* Updated to light blue */
    }

    .payment-description {
        color: #666;
        line-height: 1.6;
        margin-bottom: 25px;
    }

    .divider {
        height: 1px;
        background: #e1e5ee;
        margin: 25px 0;
    }

    .payment-btn {
        background: #B8E3E9; /* Updated to light blue */
        color: #333; /* Dark text for contrast */
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
    }

    .payment-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(184, 227, 233, 0.3);
        background: #A0D8E0; /* Slightly darker shade for hover */
        color: #333;
    }

    .payments-history {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        max-height: 500px;
        overflow-y: auto;
    }

    .payments-history h3 {
        color: #B8E3E9; /* Updated to light blue */
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .payments-history h3 i {
        color: #B8E3E9; /* Updated to light blue */
    }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #666;
            display: block;
        }

        .empty-state.hidden {
            display: none;
        }

        .empty-state i {
            font-size: 3rem;
            color: #e1e5ee;
            margin-bottom: 20px;
        }

        .empty-state h4 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #333;
        }

        .empty-state p {
            line-height: 1.6;
        }

        .payment-list {
            display: none;
        }

        .payment-list.visible {
            display: block;
        }

        .payment-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border: 1px solid #e1e5ee;
            border-radius: 10px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .payment-item:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            color: #B8E3E9;
        }

        .payment-info {
            flex: 1;
        }

        .payment-beneficiary {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .payment-details {
            color: #666;
            font-size: 0.9rem;
        }

        .payment-amount {
            text-align: right;
        }

        .payment-amount .amount {
            font-size: 1.2rem;
            font-weight: 700;
            color: #B8E3E9;
            margin-bottom: 5px;
        }

        .payment-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-processing {
            background: #d1edff;
            color: #B8E3E9;
        }

        .status-failed {
            background: #f8d7da;
            color: #721c24;
        }

        .account-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .summary-card h4 {
            color: #666;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .summary-card .amount {
            color: #B8E3E9;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .summary-card .currency {
            color: #B8E3E9;
            font-size: 1rem;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .dashboard-content {
                grid-template-columns: 1fr;
            }

            .user-info {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .quick-actions {
                width: 100%;
                justify-content: center;
            }

            .account-summary {
                grid-template-columns: 1fr;
            }

            .payment-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .payment-amount {
                text-align: left;
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .dashboard-header {
                padding: 20px;
            }

            .welcome-section h1 {
                font-size: 2rem;
            }

            .payment-card, .payments-history {
                padding: 20px;
            }
        }

        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
    <div class="header-top">
        <div class="logo">
            <h1>SecureBank<span class="logo-subtitle">International</span></h1>
        </div>
        <div class="user-info">
            <span id="headerUserName">Hello, [customer name]</span>
            <button class="logout-btn">Logout</button>
        </div>
    </div>
    <nav class="main-nav">
        <ul>
            <li><a href="#" class="active">Dashboard</a></li>
            <li><a href="make-payment.html">Payments</a></li>
            <li><a href="#">Transactions</a></li>
            <li><a href="#">Account Settings</a></li>
        </ul>
    </nav>
</header>

        <main class="dashboard-container">
            <!-- Welcome Section -->
            <div class="dashboard-header">
                <div class="welcome-section">
                    <h1>Customer Portal</h1>
                    <p class="subtitle">Manage your international payments securely</p>
                </div>
                <div class="user-info">
                    <div class="user-details">
                        <h2 id="welcomeUserName">Hello, Loading...</h2>
                        <div class="account-number" id="userAccountNumber">Account: Loading...</div>
                    </div>
                    <div class="quick-actions">
                        <button class="action-btn">Profile</button>
                        <button class="action-btn">Help</button>
                    </div>
                </div>
            </div>

            <!-- Account Summary -->
            <div class="account-summary">
                <div class="summary-card">
                    <h4>Available Balance</h4>
                    <div class="amount" id="availableBalance">$0.00</div>
                </div>
                <div class="summary-card">
                    <h4>Pending Transactions</h4>
                    <div class="amount" id="pendingTransactions">$0.00</div>
                </div>
                <div class="summary-card">
                    <h4>This Month</h4>
                    <div class="amount" id="monthlyTotal">$0.00</div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- International Payments Card -->
                <div class="payment-card">
                    <h3><i class="fas fa-globe-americas"></i> International Payments</h3>
                    <p class="payment-description">
                        Send secure international payments via SWIFT network. Fast, reliable, and secure transfers to over 200 countries.
                    </p>
                    
                    <div class="divider"></div>
                    
                    <button class="payment-btn" onclick="window.location.href='make-payment.html'">Make International Payment</button>
                </div>

                <!-- Payments History Card -->
                <div class="payments-history">
                    <h3><i class="fas fa-exchange-alt"></i> My Payments</h3>
                    
                    <!-- Empty State -->
                    <div class="empty-state" id="emptyState">
                        <i class="fas fa-receipt"></i>
                        <h4>No payments made yet</h4>
                        <p>Your payment history will appear here once you start making international transfers.</p>
                    </div>

                    <!-- Payment List -->
                    <div class="payment-list" id="paymentList">
                        <!-- Payment items will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>&copy; 2024 SecureBank International. All rights reserved.</p>
            <p>www.securebank.com | Customer Support: 1-800-SECURE-BANK</p>
        </footer>
    </div>

    <script>
        // Customer data structure - This will be populated from your database
        const customerData = {
            customerId: 'CUST001',
            firstName: 'John',
            lastName: 'Customer',
            accountNumber: '1234567890',
            availableBalance: 45230.50,
            pendingTransactions: 2500.00,
            monthlyTotal: 15000.00,
            currency: 'USD'
        };

        // Payment history data - This will come from your database
        const paymentHistory = [
            {
                id: 'PAY001',
                beneficiary: 'Jane Beneficiary',
                accountNumber: '0987654321',
                amount: 150.00,
                currency: 'USD',
                date: '2024-01-15',
                status: 'completed',
                swiftCode: 'ABNANL2A'
            },
            {
                id: 'PAY002',
                beneficiary: 'ABC Corporation',
                accountNumber: '1122334455',
                amount: 2500.00,
                currency: 'USD',
                date: '2024-01-10',
                status: 'pending',
                swiftCode: 'BOFAUS3N'
            },
            {
                id: 'PAY003',
                beneficiary: 'Global Imports Ltd',
                accountNumber: '6677889900',
                amount: 1800.50,
                currency: 'USD',
                date: '2024-01-05',
                status: 'processing',
                swiftCode: 'CITIUS33'
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize dashboard with customer data
            initializeDashboard();

            // Logout functionality
            const logoutBtn = document.querySelector('.logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    if (confirm('Are you sure you want to logout?')) {
                        alert('You have been logged out successfully.');
                        window.location.href = 'customer-login.html';
                    }
                });
            }

            // Quick actions functionality
            const actionBtns = document.querySelectorAll('.action-btn');
            actionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.textContent.toLowerCase();
                    
                    switch(action) {
                        case 'profile':
                            alert('Opening profile settings...');
                            break;
                        case 'help':
                            alert('Opening help center...');
                            break;
                    }
                });
            });

            // Function to update customer data from backend
            window.updateCustomerData = function(newData) {
                Object.keys(newData).forEach(key => {
                    if (customerData.hasOwnProperty(key)) {
                        customerData[key] = newData[key];
                    }
                });
                updateDashboardUI();
            };

            // Function to update payment history from backend
            window.updatePaymentHistory = function(newPayments) {
                paymentHistory.length = 0; // Clear existing payments
                paymentHistory.push(...newPayments);
                renderPaymentHistory();
            };

            // Function to add a new payment to history
            window.addNewPayment = function(payment) {
                paymentHistory.unshift(payment); // Add to beginning
                renderPaymentHistory();
            };
        });

        function initializeDashboard() {
            // Show loading state
            document.body.classList.add('loading');

            // Simulate API call to fetch customer data
            setTimeout(() => {
                updateDashboardUI();
                renderPaymentHistory();
                document.body.classList.remove('loading');
            }, 1000);
        }

        function updateDashboardUI() {
            // Update user information
            const fullName = `${customerData.firstName} ${customerData.lastName}`;
            document.getElementById('headerUserName').textContent = `Hello, ${customerData.firstName}`;
            document.getElementById('welcomeUserName').textContent = `Hello, ${fullName}`;
            document.getElementById('userAccountNumber').textContent = `Account: ${customerData.accountNumber}`;

            // Update account summary
            document.getElementById('availableBalance').textContent = 
                formatCurrency(customerData.availableBalance, customerData.currency);
            document.getElementById('pendingTransactions').textContent = 
                formatCurrency(customerData.pendingTransactions, customerData.currency);
            document.getElementById('monthlyTotal').textContent = 
                formatCurrency(customerData.monthlyTotal, customerData.currency);
        }

        function renderPaymentHistory() {
            const emptyState = document.getElementById('emptyState');
            const paymentList = document.getElementById('paymentList');
            const paymentListContainer = document.querySelector('.payment-list');

            if (paymentHistory.length === 0) {
                emptyState.classList.remove('hidden');
                paymentListContainer.classList.remove('visible');
                return;
            }

            emptyState.classList.add('hidden');
            paymentListContainer.classList.add('visible');

            // Clear existing payment list
            paymentList.innerHTML = '';

            // Add payment items
            paymentHistory.forEach(payment => {
                const paymentItem = createPaymentItem(payment);
                paymentList.appendChild(paymentItem);
            });
        }

        function createPaymentItem(payment) {
            const item = document.createElement('div');
            item.className = 'payment-item';
            item.setAttribute('data-payment-id', payment.id);

            const statusClass = getStatusClass(payment.status);
            const statusText = getStatusText(payment.status);
            const formattedDate = formatDate(payment.date);

            item.innerHTML = `
                <div class="payment-info">
                    <div class="payment-beneficiary">${payment.beneficiary}</div>
                    <div class="payment-details">
                        ${payment.accountNumber} • ${formattedDate} • ${payment.swiftCode}
                    </div>
                </div>
                <div class="payment-amount">
                    <div class="amount">${formatCurrency(payment.amount, payment.currency)}</div>
                    <div class="payment-status ${statusClass}">${statusText}</div>
                </div>
            `;

            // Add click event to view payment details
            item.addEventListener('click', function() {
                viewPaymentDetails(payment.id);
            });

            return item;
        }

        function getStatusClass(status) {
            switch(status) {
                case 'completed': return 'status-completed';
                case 'pending': return 'status-pending';
                case 'processing': return 'status-processing';
                case 'failed': return 'status-failed';
                default: return 'status-pending';
            }
        }

        function getStatusText(status) {
            switch(status) {
                case 'completed': return 'Completed';
                case 'pending': return 'Pending';
                case 'processing': return 'Processing';
                case 'failed': return 'Failed';
                default: return 'Pending';
            }
        }

        function formatCurrency(amount, currency) {
            const formatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: currency,
                minimumFractionDigits: 2
            });
            return formatter.format(amount);
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        function viewPaymentDetails(paymentId) {
            // In a real application, this would navigate to a payment details page
            // or show a modal with payment information
            const payment = paymentHistory.find(p => p.id === paymentId);
            if (payment) {
                alert(`Payment Details:\n
                Beneficiary: ${payment.beneficiary}
                Amount: ${formatCurrency(payment.amount, payment.currency)}
                Status: ${getStatusText(payment.status)}
                Date: ${formatDate(payment.date)}
                SWIFT: ${payment.swiftCode}
                Account: ${payment.accountNumber}`);
            }
        }

        // Simulate real-time updates (would be replaced with WebSocket/API calls)
        function simulateRealTimeUpdates() {
            setInterval(() => {
                // Simulate balance updates
                const balanceChange = (Math.random() - 0.5) * 100;
                customerData.availableBalance += balanceChange;
                customerData.availableBalance = Math.max(0, customerData.availableBalance);
                
                // Update UI
                document.getElementById('availableBalance').textContent = 
                    formatCurrency(customerData.availableBalance, customerData.currency);
            }, 30000); // Update every 30 seconds
        }

        // Start real-time updates simulation
        simulateRealTimeUpdates();
    </script>
</body>
</html>